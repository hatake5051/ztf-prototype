version: '3'
services:
  rp1:
    build:
      context: ../../
      dockerfile: ./example/rp1/Dockerfile
    volumes:
      - type: bind
        source: "../../"
        target: "/go/src/app"
    hostname: rp1.ztf-proto.k3.ipv6.mobi
    environment:
      VIRTUAL_HOST: rp1.ztf-proto.k3.ipv6.mobi
    ports:
    - "80"
    networks:
    - reverse-proxy-net

networks:
  reverse-proxy-net:
    external: true